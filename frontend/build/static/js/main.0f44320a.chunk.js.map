{"version":3,"sources":["assets/logo-via-logohub2.png","components/common/Home.js","lib/auth.js","components/common/Navbar.js","components/common/SecureRoute.js","components/places/PlaceCard.js","components/places/PlaceAll.js","components/places/PlaceIndex.js","components/places/PlaceShow.js","components/auth/Register.js","lib/headers.js","components/auth/Login.js","components/places/PlaceForm.js","components/places/PlaceCreate.js","components/places/PlacesMap.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Home","state","postcode","choices","options","value","label","handleMultiChange","selected","map","item","setState","handleChange","e","target","name","handleSubmit","preventDefault","find_location","replace","props","history","push","pathname","search","className","onSubmit","this","type","placeholder","onChange","required","isMulti","React","Component","Auth","token","localStorage","setItem","getItem","removeItem","getToken","parts","split","length","JSON","parse","atob","payload","getPayload","Math","round","Date","now","exp","NavBar","navOpen","toggleNavbar","handleLogout","logout","prevProps","location","to","src","logo","alt","href","onClick","aria-hidden","isAuthenticated","withRouter","SecureRoute","component","rest","PlaceCard","id","image","mapboxToken","process","PlaceAll","places","convertPostcode","a","axios","get","results","firstPlace","data","features","x","place_name","lng","center","lat","sort","latitude","longitude","console","log","lnglat","queries","join","response","place","key","PlaceIndex","viewport","checkResults","noResult","convertData","shortPostcode","slice","toLowerCase","filter","choice","PlaceShow","text","placeId","match","params","post","headers","Authorization","then","res","catch","err","handleDelete","delete","address","facilities","facility","description","comments","comment","owner","username","Register","email","password","password_confirmation","errors","common","Cookies","Login","error","setToken","PlaceForm","PlaceCreate","Map","zoom","popupInfo","mapboxApiAccessToken","onViewportChange","height","width","mapStyle","parseFloat","onMouseOver","onMouseOut","tipSize","anchor","closeButton","Number","App","Navbar","exact","path","Filtered","New","All","Show","Boolean","window","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.0f44320a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-via-logohub2.e641c11f.png\";","import React from 'react'\nimport Select from 'react-select'\n\nclass Home extends React.Component {\n\n  state = {\n    postcode: '',\n    choices: ['']\n  }\n\n  options = [\n    { value: 'desks', label: 'Desks' },\n    { value: 'charging', label: 'Charging Plugs' },\n    { value: 'cafe', label: 'Cafe onsite' },\n    { value: 'sofas', label: 'Comfy sofas' },\n    { value: 'wifi', label: 'Wifi' }\n  ]\n\n  handleMultiChange = (selected) => {\n    const choices = selected ? selected.map(item => item.value) : []\n    this.setState({ choices })\n  }\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault()\n    const find_location = {\n      postcode: this.state.postcode.replace(' ', ''),\n      choices: this.state.choices\n    }\n    this.props.history.push({\n      pathname: '/places/search',\n      search: '',\n      state: { find_location }\n    })\n  }\n\n  render() {\n    // const { search_data } = this.state\n    return (\n\n        <section className=\"hero is-fullheight-with-navbar\">\n\n          <div className=\"hero-body\">\n            <div className=\"container\">\n\n              <p className=\"title is-1 has-text-warning has-text-centered is-family-code\">Find your place to Bee.LDN</p>\n              <p className=\"has-text-white has-text-centered\">Searching for a FREE place to study in London? Use our search below!</p>\n\n                <form className=\"has-text-centered\" onSubmit={this.handleSubmit}>\n                  <div className=\"field\">\n                    <label className=\"label has-text-white has-text-centered\">Enter your postcode here:</label>\n                    <input\n                      type=\"text\"\n                      className=\"column is-half is-offset-one-quarter card\"\n                      placeholder=\"Postcode\"\n                      onChange={this.handleChange}\n                      name=\"postcode\"\n                      required={true}\n                    />\n                  </div>\n                  <div className=\"field\">\n                    <label className=\"label has-text-white has-text-centered\">Select the facilities you require from the dropdown below:</label>\n                    <div className=\"control column is-half is-offset-one-quarter card\">\n                      <Select\n                        options={this.options}\n                        isMulti\n                        onChange={this.handleMultiChange}\n                      />\n                    </div>\n                  </div>\n                  <button className=\"button is-warning is-rounded is-medium is-one-quarter is-family-code\">Search</button>\n                </form>\n\n            </div>\n          </div>\n\n        </section>\n\n    )\n  }\n}\n\nexport default Home\n\n","class Auth {\n  static setToken(token) {\n    localStorage.setItem('token', token)\n  }\n\n  static getToken() {\n    return localStorage.getItem('token')\n  }\n\n  static logout() {\n    localStorage.removeItem('token')\n  }\n\n  static getPayload() {\n    const token = this.getToken()\n    if (!token) return false\n    const parts = token.split('.')\n    if (parts.length < 3) return false\n    return JSON.parse(atob(parts[1]))\n  }\n\n  static isAuthenticated() {\n    const payload = this.getPayload()\n    if (!payload) return false\n    const now = Math.round(Date.now() / 1000)\n    return now < payload.exp\n  }\n}\n\nexport default Auth","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport Auth from '../../lib/auth'\nimport logo from '../../assets/logo-via-logohub2.png'\n\nclass NavBar extends React.Component {\n  state = { navOpen: false }\n\n  toggleNavbar = () => {\n    this.setState({ navOpen: !this.state.navOpen })\n  }\n\n  handleLogout = () => {\n    Auth.logout()\n    this.props.history.push('/')\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      this.setState({ navOpen: false })\n    }\n  }\n\n  render() {\n    return (\n      <nav className=\"navbar is-info\">\n        <div className=\"container\">\n          <div className=\"navbar-brand\">\n            <Link className=\"navbar-item\" to=\"/\">\n            <img src={logo} alt={logo} />\n            </Link>\n            <a href=\"/#\"\n              className={`navbar-burger ${this.state.navOpen ? 'is-active' : ''}`}\n              onClick={this.toggleNavbar}\n            >\n              <span aria-hidden=\"true\"></span>\n              <span aria-hidden=\"true\"></span>\n              <span aria-hidden=\"true\"></span>\n            </a>\n          </div>\n          <div className={`navbar-menu ${this.state.navOpen ? 'is-active' : ''}`}>\n            <div className=\"navbar-end\">\n            <Link className=\"navbar-item is-family-code\" to=\"/maps\">HiveMap</Link>\n              <Link className=\"navbar-item is-family-code\" to=\"/places\">HiveList</Link>\n              {!Auth.isAuthenticated() && <Link className=\"navbar-item is-family-code\" to=\"/register\">Signup</Link>}\n              {!Auth.isAuthenticated() && <Link className=\"navbar-item is-family-code\" to=\"/login\">Login</Link>}\n              {Auth.isAuthenticated() && <Link className=\"navbar-item is-family-code\" to=\"/places/new\">Add to the Hive</Link>}\n              {Auth.isAuthenticated() && <a href=\"/#\" onClick={this.handleLogout} className=\"navbar-item\">Logout</a>}\n            </div>\n          </div>\n        </div>\n      </nav> \n    )\n  }\n}\n\nexport default withRouter(NavBar)","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport Auth from '../../lib/auth'\n\nconst SecureRoute = ({ component: Component, ...rest }) => {\n  if (Auth.isAuthenticated()) return <Route {...rest} component={Component}/>\n  Auth.logout()\n  return <Redirect to=\"/login\"/>\n}\n\nexport default SecureRoute","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst PlaceCard = ({ id, name, image }) => (\n\n<div className=\"column is-one-quarter-desktop is-one-third-tablet is-half-mobile\">\n<Link to={`/place/${id}`}>\n  <div className=\"card\">\n    <div className=\"card-header\">\n      <h4 className=\"card-header-title\">{name}</h4>\n    </div>\n    <div className=\"card-image\">\n      <figure className=\"image\">\n        <img src={image} alt={name}/>\n      </figure>\n    </div>\n    {/* <div className=\"card-content\">\n      <h5 className=\"title is-6\">{description}</h5>\n    </div> */}\n  </div>\n</Link>\n</div>\n)\n\nexport default PlaceCard","import React from 'react'\nimport axios from 'axios'\nimport PlaceCard from './PlaceCard'\n\nconst mapboxToken = process.env.REACT_APP_MAPBOX_ACCESS_TOKEN\n\nclass PlaceAll extends React.Component {\n\n  state = {\n    places: [],\n  }\n\n  async componentDidMount() {\n    const location = this.props.history.location\n    // const location = { state: undefined }\n    console.log('location: ', location)\n\n    if (location.state && location.state.postcode) {\n      const postcode = location.state.postcode\n\n      console.log('Using postcode: ' + postcode)\n      const lnglat = await this.convertPostcode(postcode)\n      const queries = [`longitude=${lnglat.longitude}`, `latitude=${lnglat.latitude}`]\n\n      try {\n        const response = await axios.get(`/api/places?${queries.join('&')}`)\n        this.setState({ places: response.data })\n        console.log(response)\n      } catch (err) {\n        this.props.history.push('/notfound')\n      }\n    } else {\n      try {\n        const response = await axios.get(`/api/places/`)\n        this.setState({ places: response.data })\n        console.log(response)\n      } catch (err) {\n        this.props.history.push('/notfound')\n\n      }\n    }\n  }\n\n\n  convertPostcode = async (postcode) => {\n    const results = await axios.get(\n      `https://api.mapbox.com/geocoding/v5/mapbox.places/${postcode}.json?access_token=${mapboxToken}`\n    )\n\n    const firstPlace = results.data.features\n      .map(x => ({ name: x.place_name, lng: x.center[0], lat: x.center[1] }))\n      .sort(x => x.name)[0]\n\n    return {\n      latitude: firstPlace.lat,\n      longitude: firstPlace.lng,\n    }\n  }\n\n  render() {\n    return (\n      <section className=\"section\">\n        <div className=\"container is-centered\">\n          <div className=\"columns is-mobile is-multiline\">\n            {this.props.history.location.state ?\n              <p className=\"container title is-3\">\n                Unfortunately we can't find anything like that in our database. But here are some alternatives nearby:\n            </p>\n              : null\n            }\n            {this.state.places.map(place => (\n              <PlaceCard id={place.id}\n                key={place.id}\n                {...place} />\n            ))}\n          </div>\n        </div>\n      </section>\n    )\n  }\n\n}\nexport default PlaceAll","import React from 'react'\nimport axios from 'axios'\nimport Card from './PlaceCard'\n// import MapGL from 'react-map-gl'\n// import 'mapbox-gl/dist/mapbox-gl.css'\n// const mapboxToken = process.env.REACT_APP_MAPBOX_ACCESS_TOKEN\n\nclass PlaceIndex extends React.Component {\n  state = {\n    places: [],\n    viewport: {\n      latitude: 51.5074,\n      longitude: 0.1278\n    }\n  }\n\n  componentDidMount() {\n    this.convertData()\n  }\n\n  checkResults = (places, postcode) => {\n    const noResult = true\n\n    if (!places.length) {\n      this.props.history.push({\n        pathname: '/places',\n        search: '',\n        state: { noResult, postcode }\n      })\n    }\n  } \n\n  convertData = async() => {\n    const location = this.props.history.location.state.find_location\n    const postcode = location.postcode\n    const shortPostcode = postcode\n      .replace(/[^a-z0-9]/gi, '')\n      .slice(0, 3).toLowerCase()\n\n      const queries = [`postcode=${shortPostcode}`]\n\n      for (const choice of location.choices.filter(x => x)) {\n        queries.push(\"facilities=\" + choice)\n      }\n      \n      const response = await axios.get(`/api/places?${queries.join('&')}`)\n      this.setState({ places: response.data })\n      this.checkResults(response.data, postcode)\n  }\n\n  render() {\n    return(\n      <section className=\"section\">\n        <div className=\"container\">\n          <div className=\"columns is-mobile is-multiline\">\n\n            {this.state.places.map(place =>( \n              <Card key={place.id} {...place}/>\n            ))}\n\n            \n          </div>\n        </div>\n      </section>    \n      )\n  }\n}\n\nexport default PlaceIndex","import React from 'react'\nimport axios from 'axios'\n// import { Link } from 'react-router-dom'\nimport Auth from '../../lib/auth'\n\nclass PlaceShow extends React.Component {\n\n  state = {\n    place: {},\n    text: ''\n  }\n\n  async componentDidMount() {\n    const placeId = this.props.match.params.id\n    try {\n      const response = await axios.get(`/api/places/${placeId}`)\n      this.setState({\n        place: response.data\n      })\n    } catch (err) {\n      this.props.history.push('/notfound')\n    }\n  }\n\n  handleChange = (e) => {\n    this.setState({ text: e.target.value })\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault()\n    const placeId = this.props.match.params.id\n    axios.post(`/api/places/${placeId}/comments/`, { text: this.state.text }, {\n      headers: { Authorization: `Bearer ${Auth.getToken()}` }\n    })\n      .then(res => {\n        this.setState({ place: res.data, text: '' })\n      })\n      .catch(err => console.log(err))\n  }\n\n  handleDelete = async () => {\n    const placeId = this.props.match.params.id\n    try {\n      await axios.delete(`/api/places/${placeId}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push('/places')\n    } catch (err) {\n      console.log(err.response)\n    }\n  }\n\n//   isOwner = () => {\n//     console.log(this.state.place.user)\n//     return Auth.getPayload().sub === this.state.place.user.id\n// }\n\n  render() {\n    if (!this.state.place.id)\n      return null\n\n    const { place } = this.state\n    console.log(this.state.place)\n    console.log(this.state.text, 'text')\n    return (\n      \n      <section className=\"section show\">\n        <div className=\"container\">\n          <h2 className=\"title is-family-code\">{place.name}</h2>\n          <h2 className=\"address\">You'll find it here: {place.address}</h2>\n          <hr />\n          <div className=\"columns\">\n            <div className=\"column is-half\">\n              <figure className=\"image\">\n                <img src={place.image} alt={place.name} />\n              </figure>\n              <hr/>\n              <h4 className=\"title is-4 is-family-code\">The amenities</h4>\n              <div className=\"facility-text\">{place.facilities.map(facility =>\n                <div key={facility.id}>\n                  {facility.name}\n                </div>)}</div>\n\n\n              <hr />\n            </div>\n            <div className=\"column is-half\">\n\n            <h4 className=\"title is-4 is-family-code\">What we love about {place.name}</h4>\n              <p>{place.description}</p>\n\n                <hr />\n\n              <form className=\"form title is-4 is-family-code\" onSubmit={this.handleSubmit}>\n                Tell us what you think! Send in your review:\n                <hr />\n                <textarea name=\"text\" onChange={this.handleChange}\n                  value={this.state.text}\n                  placeholder=\"Maximum character length for your comment is 50\"></textarea>\n                <br />\n                <input type=\"submit\" value=\"Submit\" />\n              </form>\n\n              <article className=\"media\">\n                  {/* <figure className=\"media-left\">\n                    <p class=\"image is-64x64\">\n                      <img src=\"https://bulma.io/images/placeholders/128x128.png\" />\n                    </p>\n                  </figure> */}\n                  <div className=\"media-content\">\n                  <h4 className=\"title is-4 is-family-code\">Reviews from our members:</h4>\n                    <hr/>\n                    <div className=\"content\"> {place.comments.map(comment =>\n                        <div key={comment.id}>\n                      <p>\n                        <strong>{comment.owner.username}</strong>\n                        <br/>\"{comment.text}\"<br/>\n                      </p>\n                      <hr />\n                    </div>)}\n                  </div>\n                  </div>\n                </article>\n\n              {/* <div className=\"comment-text\">{place.comments.map(comment =>\n                <div key={comment.id}>\n                  <h2>{comment.text} - {comment.owner}</h2>\n                </div>)}</div>\n              <hr /> */}\n\n              {/* {this.isOwner() &&\n                <>\n                  <Link to={`/places/${place.id}/edit`} className=\"button is-warning\">Edit</Link>\n                  <button onClick={this.handleDelete} className=\"button is-danger\">Delete</button>\n                </>\n              } */}\n\n            </div>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default PlaceShow","import React from 'react'\nimport axios from 'axios'\n\nclass Register extends React.Component {\n  state = {\n    data: {\n      username: '',\n      email: '',\n      password: '',\n      password_confirmation: ''\n    },\n    errors: {}\n  }\n\n  handleChange = e => {\n    const data = { ...this.state.data, [e.target.name]: e.target.value }\n    const errors = { ...this.state.errors, [e.target.name]: '' }\n    this.setState({ data, errors })\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault()\n\n    try {\n      await axios.post('/api/register', this.state.data)\n      this.props.history.push('/login')\n    } catch (err) {\n      this.setState({ errors: err.response.data.errors })\n    }\n  }\n\n  render() {\n    return (\n      <section className=\"is-dark is-fullheight-with-navbar\">\n        <div className=\"hero-body\">\n          <div className=\"container\">\n\n          <form onSubmit={this.handleSubmit} className=\"column is-half is-offset-one-quarter\">\n              <h2 className=\"title is-1 has-text-warning has-text-centered is-family-code\">Register</h2>\n                <div className=\"notification is-light\">\n                  <div className=\"field\">\n                    {/* <label className=\"label\">Username</label> */}\n                    <div className=\"control\">\n                      <input\n                        className={`input ${this.state.errors.username} ? : 'is-danger' : '' `}\n                        name=\"username\"\n                        placeholder=\"Username\"\n                        onChange={this.handleChange}\n                      />\n                    </div>\n                    {this.state.errors.username && <small className=\"help is-danger\">{this.state.errors.username}</small>}\n                  </div>\n                  <div className=\"field\">\n                    {/* <label className=\"label\">Email</label> */}\n                    <div className=\"control\">\n                      <input\n                        className={`input ${this.state.errors.email} ? : 'is-danger' : '' `}\n                        name=\"email\"\n                        placeholder=\"Email\"\n                        onChange={this.handleChange}\n                      />\n                    </div>\n                    {this.state.errors.email && <small className=\"help is-danger\">{this.state.errors.email}</small>}\n                  </div>\n                  <div className=\"field\">\n                    {/* <label className=\"label\">Password</label> */}\n                    <div className=\"control\">\n                      <input\n                        className={`input ${this.state.errors.password} ? : 'is-danger' : '' `}\n                        name=\"password\"\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        onChange={this.handleChange}\n                      />\n                    </div>\n                    {this.state.errors.password && <small className=\"help is-danger\">{this.state.errors.password}</small>}\n                  </div>\n                  <div className=\"field\">\n                    {/* <label className=\"label\">Password Confirmation</label> */}\n                    <div className=\"control\">\n                      <input\n                        className={`input ${this.state.errors.password_confirmation} ? : 'is-danger' : '' `}\n                        name=\"password_confirmation\"\n                        type=\"password\"\n                        placeholder=\"Password Confirmation\"\n                        onChange={this.handleChange}\n                      />\n                    </div>\n                    {this.state.errors.password_confirmation && <small className=\"help is-danger\">{this.state.errors.password_confirmation}</small>}\n                  </div>\n                  <div className=\"field\">\n                    <div className=\"control\">\n                      <button type=\"submit\" className=\"button is-info is-rounded is-outlined is-medium is-fullwidth is-family-code\">Signup</button>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n      </section>\n    )\n  }\n}\n\nexport default Register","// import Auth from '../lib/auth'\n// import Cookies from 'js-cookie'\n\n// export const getHeaders = () => {\n\n//   let result = {}\n\n//   const csrftoken = Cookies.get('csrftoken')\n//   if (csrftoken) {\n//     result['X-CSRF-TOKEN'] = csrftoken\n//   }\n\n//   const authToken = Auth.getToken()\n//   if (authToken) {\n//     result['Authorization'] = `Bearer ${authToken}` \n//   }\n\n//   return result\n// }\n\n\n// import Auth from '../lib/auth'\nimport Cookies from 'js-cookie'\nconst csrftoken = Cookies.get('csrftoken')\n\n\nexport const headers = {\n  common: {\n    'X-CSRF-TOKEN': csrftoken\n  },\n  // // // <!-- later on you can include this (remember to import it): -->\n  // headers: { Authorization: `Bearer ${Auth.getToken()}` }\n}","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport { headers } from '../../lib/headers'\n// import notification from '../../lib/notification'\n\nclass Login extends React.Component {\n  state = {\n    data: {\n      email: '',\n      password: ''\n    },\n    error: ''\n  }\n\n  handleChange = ({ target: { name, value } }) => {\n    const data = { ...this.state.data, [name]: value }\n    this.setState({ data, error: '' })\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault()\n\n    let res\n\n    try {\n      res = await axios.post('/api/login', this.state.data, headers)\n    } catch (err) {\n      this.setState({ error: 'Incorrect Credentials' })\n      return\n    }\n\n    Auth.setToken(res.data.token)\n    // notification(res.data.message)\n    this.props.history.push('/places')\n  }\n\n  render() {\n    return (\n      <section className=\"is-dark is-fullheight-with-navbar\">\n        <div className=\"hero-body\">\n          <div className=\"container\">\n          <form onSubmit={this.handleSubmit} className=\"column is-half is-offset-one-quarter\">\n              <h2 className=\"title is-1 has-text-warning has-text-centered is-family-code\">Login</h2>\n              <div className=\"notification is-light\">\n                <div className=\"field\">\n                  {/* <label className=\"label\">Email</label> */}\n                  <div className=\"control\">\n                    <input\n                      className={`input ${this.state.error} ? : 'is-danger' : '' `}\n                      name=\"email\"\n                      placeholder=\"Email\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n                <div className=\"field\">\n                  {/* <label className=\"label\">Password</label> */}\n                  <div className=\"control\">\n                    <input\n                      className={`input ${this.state.error} ? : 'is-danger' : '' `}\n                      type=\"password\"\n                      name=\"password\"\n                      placeholder=\"Password\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  {this.state.error && <small className=\"help is-danger\">{this.state.error}</small>}\n                </div>\n                <button type=\"submit\" className=\"button is-info is-rounded is-outlined is-medium is-fullwidth is-family-code\">Get me into the Hive</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default Login","import React from 'react'\nimport Select from 'react-select'\n\nconst PlaceForm = ({ data, options, handleChange, handleSubmit, handleMultiChange, errors }) => {\n  return (\n    <section className=\"is-dark is-fullheight-with-navbar\">\n      <div className=\"hero-body\">\n        <div className=\"container\">\n          <form className=\"column is-half is-offset-one-quarter\" onSubmit={handleSubmit}>\n            <h2 className=\"title is-1 has-text-warning has-text-centered is-family-code\">Add a place to the Hive</h2>\n            <div className=\"notification is-light\">\n\n              <div className=\"field\">\n                <div className=\"control\">\n                  <input\n                    className={`input ${errors.name ? 'is-danger' : ''}`}\n                    placeholder=\"e.g. The Breakfast Club\"\n                    name=\"name\"\n                    onChange={handleChange}\n                    value={data.name}\n                    required={true}\n                  />\n                </div>\n                {errors.name && <small className=\"help is-danger\">{errors.name}</small>}\n              </div>\n\n              <div className=\"field\">\n                <div className=\"control\">\n                  <input\n                    className={`input ${errors.address ? 'is-danger' : ''}`}\n                    placeholder=\"Address\"\n                    name=\"address\"\n                    onChange={handleChange}\n                    value={data.address}\n                  />\n                </div>\n                {errors.address && <small className=\"help is-danger\">{errors.address}</small>}\n              </div>\n\n              <div className=\"field\">\n                <div className=\"control\">\n                  <input\n                    className={`input ${errors.postcode ? 'is-danger' : ''}`}\n                    placeholder=\"Postcode\"\n                    name=\"postcode\"\n                    onChange={handleChange}\n                    value={data.postcode}\n                  />\n                </div>\n                {errors.postcode && <small className=\"help is-danger\">{errors.postcode}</small>}\n              </div>\n\n              <div className=\"field\">\n                <div className=\"control\">\n                  <input\n                    className={`input ${errors.image ? 'is-danger' : ''}`}\n                    placeholder=\"Image\"\n                    name=\"image\"\n                    onChange={handleChange}\n                    value={data.image}\n                  />\n                </div>\n                {errors.image && <small className=\"help is-danger\">{errors.image}</small>}\n              </div>\n\n              <div className=\"field\">\n                <div className=\"control\">\n                  <textarea\n                    className=\"textarea\"\n                    placeholder=\"Description\"\n                    name=\"description\"\n                    onChange={handleChange}\n                    value={data.description}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Select the facilities from the dropdown below</label>\n                <div className=\"control\">\n                  <Select\n                    options={options}\n                    isMulti\n                    onChange={handleMultiChange}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <div className=\"control\">\n                  <button type=\"submit\" className=\"button is-info is-rounded is-outlined is-medium is-fullwidth is-family-code\">Add a place</button>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </section>\n  )\n}\nexport default PlaceForm","import React from 'react'\nimport PlaceForm from './PlaceForm'\n// import { headers } from '../../lib/headers'\nimport Auth from '../../lib/auth'\n\nimport axios from 'axios'\n\nclass PlaceCreate extends React.Component {\n\n  state = {\n    data: {\n      name: '',\n      address: '',\n      postcode: '',\n      image: '',\n      description: '',\n      choices: ['']\n    },\n    errors: {}\n  }\n\n  options = [\n    { value: 'desks', label: 'Desks' },\n    { value: 'charging', label: 'Charging Plugs' },\n    { value: 'cafe', label: 'Cafe onsite' },\n    { value: 'sofas', label: 'Comfy sofas' },\n    { value: 'wifi', label: 'Wifi' }\n  ]\n\n  handleMultiChange = (selected) => {\n    const choices = selected ? selected.map(item => item.value) : []\n    this.setState({ choices })\n  }\n\n  handleChange = e => {\n    const data = { ...this.state.data, [e.target.name]: e.target.value }\n    const errors = { ...this.state.errors, [e.target.name]: '' }\n    this.setState({ data, errors })\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n\n    try {\n      const { data } = await axios.post('/api/places/', this.state.data, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push(`/places/${data.id}`)\n    } catch (err) {\n      this.setState({ errors: err.response.data.errors })\n    }\n  }\n\n  render() {\n    return (\n      <section className=\"is-dark is-fullheight-with-navbar\">\n        <div className=\"hero-body\">\n          <PlaceForm\n            data={this.state.data}\n            handleChange={this.handleChange}\n            handleSubmit={this.handleSubmit}\n            options={this.options}\n            handleMultiChange={this.handleMultiChange}\n            errors={this.state.errors}\n          />\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default PlaceCreate","import React from 'react'\nimport axios from 'axios'\nimport MapGL, { Marker, Popup } from 'react-map-gl'\nimport { FaForumbee } from 'react-icons/fa'\nimport { Link } from 'react-router-dom'\n\nimport 'mapbox-gl/dist/mapbox-gl.css'\n\nconst mapboxToken = process.env.REACT_APP_MAPBOX_ACCESS_TOKEN\n\nclass Map extends React.Component {\n\n  state = {\n    places: [],\n    name: [],\n    viewport: { \n      longitude: -0.118092, \n      latitude: 51.509865, \n      zoom: 12 \n    },\n    popupInfo: null\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await axios.get('/api/places')\n      this.setState({ places: response.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  render() {\n    console.log('mapszz')\n    const { viewport } = this.state\n\n    return (\n      <MapGL {...viewport}\n        mapboxApiAccessToken={mapboxToken}\n        onViewportChange={viewport => this.setState({ viewport })}\n        height={'100vh'}\n        width={'100vw'}\n        mapStyle=\"mapbox://styles/mapbox/streets-v11\"\n      >   \n        {this.state.places.map(place => {\n          console.log(place)\n          return(\n            <Marker \n            key={place.id}\n            latitude={parseFloat(place.latitude)}\n            longitude={parseFloat(place.longitude)}\n            >\n              <Link to={`/place/${place.id}`}>\n                <FaForumbee\n                className=\"marker\"\n                src={place.name}\n                // alt={place.name}\n                onMouseOver={() => this.setState({ popupInfo: place })}\n                onMouseOut={() => this.setState({ popupInfo: null })}\n                />\n              </Link>\n            </Marker>\n          )})}\n          {this.state.popupInfo &&\n            <Popup tipSize={5}\n              anchor=\"bottom-right\"\n              closeButton={false}\n              longitude={Number(this.state.popupInfo.longitude)}\n              latitude={Number(this.state.popupInfo.latitude)}>\n              <p>{this.state.popupInfo.name}</p>\n            </Popup>\n          }\n      </MapGL>\n    )\n  }\n}\n\nexport default Map","import React from 'react'\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\n// import ReactDOM from 'react-dom'\nimport '../src/stylesheets/main.scss'\nimport 'bulma'\n\nimport Home from './components/common/Home'\nimport Navbar from './components/common/Navbar'\nimport SecureRoute from './components/common/SecureRoute'\nimport All from './components/places/PlaceAll'\nimport Filtered from './components/places/PlaceIndex'\nimport Show from './components/places/PlaceShow'\nimport Register from './components/auth/Register'\nimport Login from './components/auth/Login'\nimport New from './components/places/PlaceCreate'\nimport Map from './components/places/PlacesMap'\n\nconst App = () => (\n  <BrowserRouter>\n    <main>\n      <Navbar />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route path=\"/places/search\" component={Filtered} />\n        <SecureRoute path=\"/places/new\" component={New} />\n        <Route path=\"/places\" component={All} />\n        <Route path=\"/place/:id\" component={Show} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/maps\" component={Map} />\n      </Switch>\n    </main>\n  </BrowserRouter>\n)\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}